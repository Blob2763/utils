<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="/imgs/icon.png" type="image/x-icon">
    <title>UTILS - SETTINGS</title>
    <link rel="stylesheet" href="../style.css">

    <script src="../navbar.js"></script>
    <script src="../tools/save.js" defer></script>
    <script src="./settings.js" defer></script>
    <script src="/settings/colour scheme.js" defer></script>

    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
</head>

<body onload="populateNavbar()">

    <div id="sidenav"></div>

    <div class="main">
        <h1><span id="utils-header">SETTINGS</span></h1>
        <h3>GENERAL</h3>
        <ul>
            <div class="tooltip" id="colorSchemeText">
                <li class="settingsText">COLOUR SCHEMES</li>
                <span class="tooltiptext regular">THIS IS A BETA FEATURE</span>
            </div>
        </ul>

        <h3>CONVERSIONS</h3>
        <ul>
            <div class="tooltip">
                <li>ROUNDING LIMIT <input id="rounding-limit" type="number" min="0" max="12"> </li>
                <span class="tooltiptext regular">how many decimal places conversions are rounded to</span>
            </div>
        </ul>

        <h3>DANGER</h3>
        <ul>
            <div class="tooltip">
                <li><button id="delete-all" class="danger" onclick="clearAll()">CLEAR ALL DATA</button></li>
                <span class="tooltiptext danger">clears save data, settings, and themes (reload)</span>
            </div>
        </ul>

        <dialog id="colorSchemeModal" class="modal">
            <span style="font-size: 40px;">COLOUR SCHEME</span>

            <div class="modalMain">
                <!--<span class="text">Dark Mode</span>
                <label class="toggle">
                    <input type="checkbox" checked id="darkModeCheck">
                    <span class="slider"></span>
                </label>-->

                <label>
                    <span style="font-size: 21px;">Default color</span>
                    <input type="text" id="inputColour" pattern="^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$">
                </label>

                <button onclick="saveColourScheme()">UPDATE COLOURS</button>
                <button onclick="resetColours()">RESET</button>

                <p style="font-size: 16px;">This is a beta feature, so it is still being improved. If you find any bugs, let us know in <a href="https://discord.gg/srRcAYTt4C" target="_blank">Discord server</a></p>
            </div>

            <form method="dialog">
                <button class="modalButton"><span class="material-symbols-outlined">close</span></button>
            </form>

        </dialog>
    </div>

    <script>
        let rounding = localStorage.getItem("rounding");
        if (rounding === null) {
            localStorage.setItem("rounding", 8);
        }
        
        rounding = localStorage.getItem("rounding");
        document.getElementById("rounding-limit").value = rounding
    </script>
</body>

</html>